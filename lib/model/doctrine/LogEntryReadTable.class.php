<?php

/**
 * LogEntryReadTable
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class LogEntryReadTable extends Doctrine_Table
{
  /**
   * Returns an instance of this class.
   *
   * @return LogEntryReadTable
   */
  static function getInstance()
  {
      return Doctrine_Core::getTable('LogEntryRead');
  }
  
  function addRead(User $user, LogEntry $entry)
  {
    $added = $this->createQuery()
             ->where('user_id=? and entry_id=?', array($user->getId(), $entry->getId()))
             ->count() > 0;
    
    if($added)
      return;
    
    $read = new LogEntryRead();
    $read->setArray(array(
      'user_id' => $user->getId(),
      'entry_id' => $entry->getId()
    ));
    $read->save();
  }
}