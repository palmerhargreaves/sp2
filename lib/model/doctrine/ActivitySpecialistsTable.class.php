<?php

/**
 * ActivitySpecialistsTable
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class ActivitySpecialistsTable extends Doctrine_Table
{
    /**
     * Returns an instance of this class.
     *
     * @return object ActivitySpecialistsTable
     */
    public static function getInstance()
    {
        return Doctrine_Core::getTable('ActivitySpecialists');
    }

    /**
     * Проверка на привязку пользователя к активности
     * Если доступ разрешен, дизайнер получает письмо
     * @param $user
     * @param $activity
     * @return bool
     */
    public static function checkAllowUserForActivity($user, $activity) {
        return self::getInstance()->createQuery()->where('activity_id = ? and user_id = ?', array($activity->getId(), $user->getId()))->count() > 0;
    }
}