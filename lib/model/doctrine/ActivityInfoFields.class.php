<?php

/**
 * ActivityInfoFields
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @package    Servicepool2.0
 * @subpackage model
 * @author     Your name here
 * @version    SVN: $Id: Builder.php 7490 2010-03-29 19:53:27Z jwage $
 */
class ActivityInfoFields extends BaseActivityInfoFields
{
	function getFieldDataCount($activityId) {
		return ActivityInfoFieldsDataTable::getInstance()->createQuery()
												->where('activity_id = ? and field_id = ?', array($activityId, $this->getId()))
												->count();
	}

	function getFieldData($activityId) {
		return ActivityInfoFieldsDataTable::getInstance()->createQuery()
												->where('activity_id = ? and field_id = ?', array($activityId, $this->getId()))
												->orderBy('id ASC')
													->execute();
	}

	static function getNameById($fieldId)
	{
		$field = ActivityInfoFieldsTable::getInstance()->find($fieldId);
		if($field)
			return $field->getHeader();

		return '';
	}

	function hasData($activityId) {
		if(ActivityInfoFieldsDataTable::getInstance()
				->createQuery()
				->where('activity_id = ? and field_id = ?', array($activityId, $this->getId()))
					->count() > 0)
			return true;

		return false;
	}


}
